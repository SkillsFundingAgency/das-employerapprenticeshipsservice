@using SFA.DAS.EAS.Domain.Data.Entities.Account
@using SFA.DAS.EAS.Web
@using SFA.DAS.EAS.Web.Extensions

@{
    ViewBag.Title = "Choose organisation";
    ViewBag.PageID = "choose-organisation";
}

@model OrchestratorResponse<SFA.DAS.EAS.Web.ViewModels.SelectLegalEntityViewModel>

@*@section pageSpecificJS {
    @Scripts.Render("~/bundles/jqueryvalcustom")
}*@


<div class="grid-row">
    <form method="POST" action="@Url.Action("SetLegalEntity")">
        <div class="column-two-thirds">
            @Html.Partial("ValidationSummary", Html.ViewData.ModelState)
            <h1 class="heading-xlarge">Choose organisation</h1>
            @Html.AntiForgeryToken()
            <div class="form-group @Html.AddClassIfPropertyInError("LegalEntityCode", "error")">
                <fieldset>
                    <legend>
                        <span class="form-label-bold">Choose the organisation your apprentices will be employed through:</span>
                        @Html.ValidationMessage("LegalEntityCode", "Please choose an option", new { id = "error-message-LegalEntityCode" })
                    </legend>
  
                    @foreach (LegalEntity entity in Model.Data.LegalEntities)
                    {
                        <label class="block-label selection-button-radio" for="LegalEntityCode-@entity.Code">
                        @Html.RadioButton("LegalEntityCode", @entity.Code, new { @id = "LegalEntityCode-" + entity.Code })
                            @entity.Name
                        </label>
                    }
               </fieldset>
            </div>
            @Html.Hidden("CohortRef", Model.Data.CohortRef)
            <button type="submit" class="button">Continue</button>
        </div>
    </form>
</div>

@section breadcrumb {
    <div class="breadcrumbs">
        <a href="@Url.Action("Index", "EmployerCommitments")" aria-label="Back to Apprentices" class="back-link">Back to Apprentices</a>
    </div>
}