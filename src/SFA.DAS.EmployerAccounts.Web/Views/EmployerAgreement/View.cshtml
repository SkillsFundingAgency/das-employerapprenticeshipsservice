@using SFA.DAS.EmployerAccounts.Web.Helpers
@model EmployerAgreementViewModel
@{
    ViewBag.PageID = "agreement-view";
    ViewBag.Title = "Agreement view";
    ViewBag.Section = "organisations";
}
@{
    ViewBag.GaData.Vpv = "/accounts/agreements/view-your-agreement/agreement-view";
}
@{Layout = "~/Views/Shared/_Layout_CDN.cshtml"; }

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <h1 class="govuk-heading-xl">
            <span class="govuk-caption-l">@Model.EmployerAgreement.LegalEntityName</span>
            Your <abbr>ESFA</abbr> agreement
        </h1>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <table class="govuk-table das-table--responsive">
            <tbody class="govuk-table__body">
                <tr>
                    <th scope="row" class="govuk-table__header" data-label="Accepted by">
                        <span class="das-no-wrap">Accepted by:</span>
                    </th>
                    <td class="govuk-table__cell">@Model.EmployerAgreement.SignedByName</td>
                </tr>
                <tr>
                    <th scope="row" class="govuk-table__header" data-label="On behalf of">
                        <span class="das-no-wrap">On behalf of:</span>
                    </th>
                    <td class="govuk-table__cell">@Model.EmployerAgreement.LegalEntityName</td>
                </tr>
                <tr>
                    <th scope="row" class="govuk-table__header" data-label="Address">Address:</th>
                    <td class="govuk-table__cell">
                        <span class="table-address">@Model.EmployerAgreement.LegalEntityAddress</span>
                    </td>
                </tr>
                <tr>
                    <th scope="row" class="govuk-table__header" data-label="Accepted on">
                        <span class="das-no-wrap">Accepted on:</span>
                    </th>
                    <td class="govuk-table__cell">@Model.EmployerAgreement.SignedDate.Value.ToString("d MMMM yyyy")</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <p class="govuk-body">
            <a href="@Url.Action(ControllerConstants.GetSignedPdfAgreementActionName, ControllerConstants.EmployerAgreementControllerName)" target="_blank" class="govuk-link download">Download the agreement</a>
        </p>
    </div>
</div>


    @if (Html.ViewExists(Model.EmployerAgreement.TemplatePartialViewName + "_body"))
    {
        @Html.Partial(Model.EmployerAgreement.TemplatePartialViewName + "_body");
    }
    else
    {
        @Html.Partial(Model.EmployerAgreement.TemplatePartialViewName)
    }

    @section breadcrumb {
        <div class="govuk-breadcrumbs">
            <ol class="govuk-breadcrumbs__list" role="navigation">
                <li class="govuk-breadcrumbs__list-item"><a href="@Url.Action(ControllerConstants.IndexActionName, ControllerConstants.EmployerTeamControllerName)" class="govuk-breadcrumbs__link">Home</a></li>
                <li class="govuk-breadcrumbs__list-item"><a href="@Url.Action(ControllerConstants.IndexActionName, ControllerConstants.EmployerAgreementControllerName)" class="govuk-breadcrumbs__link">Your organisations and agreements</a></li>
                <li class="govuk-breadcrumbs__list-item">Your <abbr>ESFA</abbr> agreement</li>
            </ol>
        </div>
    }


